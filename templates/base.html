<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Symposium Platform</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
  <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
  <style>
    :root {
      color-scheme: dark;
      --bg: #0b0f14;
      --surface: #111827;
      --border: #1f2937;
      --muted: #94a3b8;
      --text: #e5e7eb;
      --accent: #3b82f6; /* primary */
      --accent-contrast: #111827;
  /* Compatibility with existing templates */
  --card-bg: var(--surface);
  --card-border: var(--border);
  /* Pico variables (optional) */
  --pico-background-color: var(--bg);
  --pico-color: var(--text);
  --pico-primary: var(--accent);
  --pico-primary-hover: #60a5fa;
    }

    * { box-sizing: border-box; }

    body {
      background: var(--bg);
      color: var(--text);
      margin: 0;
      font-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      line-height: 1.5;
    }

    /* Top nav */
    nav.container-fluid {
      background: rgba(17, 24, 39, 0.7);
      backdrop-filter: saturate(120%) blur(8px);
      border-bottom: 1px solid var(--border);
      padding: .75rem 1rem;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    nav ul { margin: 0; padding: 0; list-style: none; display: flex; align-items: center; gap: .25rem; }
    nav ul:first-child { flex: 1; }
    nav li { margin: 0; }
    nav a {
      display: inline-block;
      color: var(--text);
      text-decoration: none;
      padding: .5rem .75rem;
      border-radius: .5rem;
      border: 1px solid transparent;
      font-weight: 500;
    }
    nav a:hover { background: #0f172a; border-color: var(--border); }
    nav strong a { font-size: 1.1rem; padding-left: 0; padding-right: 0; font-weight: 700; }

    /* Layout */
    main.container { max-width: 1100px; margin: 0 auto; padding: 1.25rem; }

    /* Cards */
    article {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: .75rem;
      padding: 1rem;
      transition: border-color .2s ease, transform .2s ease;
    }
    article:hover { border-color: #334155; transform: translateY(-2px); }

    /* Forms */
    input, select, textarea {
      background: #0f172a;
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: .5rem;
      padding: .6rem .7rem;
    }
    input:focus, select:focus, textarea:focus { outline: none; border-color: #334155; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15); }

    /* Buttons */
    button, .button, input[type="submit"], a[role="button"] {
      background: var(--accent);
      color: white;
      border: 1px solid transparent;
      border-radius: .55rem;
      padding: .6rem 1rem;
      font-weight: 600;
      cursor: pointer;
    }
    button:hover, .button:hover, input[type="submit"]:hover, a[role="button"]:hover { filter: brightness(1.05); }
    a[role="button"].secondary, .secondary { background: #0f172a; color: var(--text); border-color: #2a3443; }
    a[role="button"].contrast, .contrast { background: #0b1220; color: #e2e8f0; border-color: #2a3443; }

  /* Compatibility: .btn classes */
  a.btn, .btn { display: inline-block; text-decoration: none; background: var(--accent); color: #fff; border: 1px solid transparent; border-radius: .55rem; padding: .6rem 1rem; font-weight: 600; }
  a.btn:hover, .btn:hover { filter: brightness(1.05); }
  .btn-primary { background: var(--accent); color: #fff; }
  .btn-secondary { background: #0f172a; color: var(--text); border-color: #2a3443; }

    /* Tables */
    table { background: var(--surface); border: 1px solid var(--border); border-radius: .5rem; overflow: hidden; }
    th { background: #0f172a; color: var(--text); font-weight: 600; }
    tr:hover { background: #0b1220; }

    /* Flash messages */
    .flash-messages { position: fixed; top: 72px; right: 1rem; z-index: 20; max-width: 360px; }
    .flash-message { margin: 0 0 .5rem; padding: .75rem 1rem; border-radius: .5rem; border: 1px solid var(--border); background: #0f172a; }
    .flash-message.info { border-left: 3px solid var(--accent); }
    .flash-message.success { border-left: 3px solid #22c55e; }
    .flash-message.error { border-left: 3px solid #ef4444; }

    /* Headings */
    h1, h2, h3, h4 { color: var(--text); margin: .25rem 0 .75rem; font-weight: 700; }
    p, small { color: var(--muted); }

    /* Accessibility */
    a:focus, button:focus, input:focus, select:focus, textarea:focus { outline: 2px solid rgba(59, 130, 246, .6); outline-offset: 2px; }

    @media (max-width: 768px) {
      nav.container-fluid { padding: .75rem; }
      nav ul { flex-wrap: wrap; }
      main.container { padding: 1rem; }
      .flash-messages { position: fixed; top: auto; bottom: 1rem; right: 1rem; left: 1rem; }
    }
  </style>
</head>
<body>
  <nav class="container-fluid">
    <ul>
      <li><strong><a href="/">Symposium</a></strong></li>
    </ul>
    <ul>
      {% if session.user_id %}
      <li><a href="{{ url_for('dashboard') }}">Dashboard</a></li>
      <li><a href="{{ url_for('profile') }}">Profile</a></li>
      <li><a href="{{ url_for('public_results') }}">Results</a></li>
      <li><a href="{{ url_for('logout') }}">Logout</a></li>
      {% else %}
      <li><a href="{{ url_for('public_results') }}">Results</a></li>
      <li><a href="{{ url_for('register') }}">Register</a></li>
      <li><a href="{{ url_for('login') }}">Login</a></li>
      {% endif %}
    </ul>
  </nav>
  
  <main class="container page-transition">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-messages">
          {% for category, message in messages %}
            <div class="flash-message {{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>
  
  <script>
    // Auto-dismiss flash messages after a short delay (minimal animation)
    document.addEventListener('DOMContentLoaded', () => {
      const flashMessages = document.querySelectorAll('.flash-message');
      flashMessages.forEach(message => {
        setTimeout(() => {
          message.style.opacity = '0';
          message.style.transform = 'translateY(-4px)';
          message.style.transition = 'opacity .2s ease, transform .2s ease';
          setTimeout(() => message.remove(), 200);
        }, 4000);
      });
    });
  </script>
</body>
</html>
